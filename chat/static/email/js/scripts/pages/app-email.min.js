$((function() {
    "use strict";
    var e = $(".app-content"),
        s = $(".app-content-overlay"),
        o = $(".sidebar-left"),
        l = $(".email-app-details"),
        i = $(".email-application"),
        a = $(".compose-new-mail-sidebar"),
        n = $(".email-user-list"),
        t = $(".email-app-list"),
        r = $(".user-action .checkbox-con");
    if ($.app.menu.is_touch_device())
        $(".sidebar-menu-list").css("overflow", "scroll"),
            $(".email-user-list").css("overflow", "scroll"),
            $(".email-scroll-area").css("overflow", "scroll"),
            $(".compose-new-mail-sidebar").css("overflow", "scroll");
    else {
        if ($(".sidebar-menu-list").length > 0) new PerfectScrollbar(".sidebar-menu-list", {
            wheelPropagation: !1
        });
        if (n.length > 0) new PerfectScrollbar(".email-user-list", {
            wheelPropagation: !1
        });
        if ($(".email-scroll-area").length > 0) new PerfectScrollbar(".email-scroll-area", {
            wheelPropagation: !1
        });
        if (a.length > 0) new PerfectScrollbar(".compose-new-mail-sidebar", {
            wheelPropagation: !1
        })
    }
    // t.find(".email-user-list2 li").on("click", function () {
    //     if($(this).atrr)
    //     l.toggleClass("show");
    // }),
    t.find(".email-user-list2 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message')
            $(".email-app-details2").each(function () {
                if($(this).attr('data-detail1') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list3 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message3')
            $(".email-app-details3").each(function () {
                if($(this).attr('data-detail3') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list2 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message2')
            $(".email-app-details2").each(function () {
                if($(this).attr('data-detail2') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list4 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message4')
            $(".email-app-details4").each(function () {
                if($(this).attr('data-detail4') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list5 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message5')
            $(".email-app-details5").each(function () {
                if($(this).attr('data-detail5') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list6 li").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message6')
            $(".email-app-details6").each(function () {
                if($(this).attr('data-detail6') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list7 li").each(function () {
            $(this).on("click", function () {
                var data_attr = $(this).attr('data-message7')
                $(".email-app-details7").each(function () {
                    if($(this).attr('data-detail7') === data_attr){
                        $(this).toggleClass("show");
                    }
                });
            })
        });
        t.find(".email-user-list8 li").each(function () {
                    $(this).on("click", function () {
                        var data_attr = $(this).attr('data-message8')
                        $(".email-app-details8").each(function () {
                            if($(this).attr('data-detail8') === data_attr){
                                $(this).toggleClass("show");
                            }
                        });
                    })
                });
        t.find(".email-user-list9 li").each(function () {
                    $(this).on("click", function () {
                        var data_attr = $(this).attr('data-message9')
                        $(".email-app-details9").each(function () {
                            if($(this).attr('data-detail9') === data_attr){
                                $(this).toggleClass("show");
                            }
                        });
                    })
                });





    $('.tablinks').each(function () {
        $(this).on("click", function () {
            $('.email-app-details').removeClass("show");
        })
    });

    $(".mail-reply").on("click", function () {
        c.focus();
    }),
    $(".menu-toggle").on("click", function (o) {
        e.find(".sidebar-left").removeClass("show"), s.removeClass("show"), a.removeClass("show");
    }),
    i.find(".sidebar-close-icon").on("click", function () {
        o.removeClass("show"), s.removeClass("show");
    }),
    $(".sidebar-toggle").on("click", function (e) {
        e.stopPropagation(), o.toggleClass("show"), s.addClass("show");
    }),
    s.on("click", function () {
        o.removeClass("show"), s.removeClass("show");
    }),
    i.find(".list-group-messages a,.list-group-labels a").on("click", function () {
        var e = $(this);
        i.find(".list-group-messages a,.list-group-labels a").hasClass("active") && (i.find(".list-group-messages a,.list-group-labels a").removeClass("active"), e.addClass("active"));
    }),
    $(".sidebar-close-icon").on("click", function () {
        $(".sidebar-content").removeClass("show"), s.removeClass("show");
    }),

    $(".go-back, #inbox-menu").on("click", function (e) {
        e.stopPropagation(), l.removeClass("show"), ($(".detail-view-editor .ql-editor")[0].innerHTML = "");
    }),
    i.find(".favorite i").on("click", function (e) {
        e.stopPropagation();
        var s = $(this);
        s.parent(".favorite").toggleClass("warning"), s.hasClass("bx-star") ? (s.addClass("bxs-star"), s.removeClass("bx-star")) : (s.addClass("bx-star"), s.removeClass("bxs-star"));
    }),
    r.on("click", function (e) {
        e.stopPropagation();
    }),
    r.find("input").on("change", function () {
        var e = $(this);
        e.is(":checked") ? e.closest(".media").addClass("selected-row-bg") : e.closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list .selectAll input", function () {
        $(this).is(":checked") ? r.find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg") : r.find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    i.find(".mail-delete").on("click", function () {
        r.find("input:checked").closest("li").remove(),
            i.find(".selectAll input").prop("checked", ""),
            0 == $(".email-user-list .users-list-wrapper li:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show");
    }),
    i.find(".mail-unread").on("click", function () {
        r.find("input:checked").closest("li").removeClass("mail-read"), i.find(".user-action .checkbox-con input:checked , .selectAll input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    t.find("#email-search").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".media").css("animation", "none"), "" != e)
            ? (n.find(".users-list-wrapper li").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list .users-list-wrapper li:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper li").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $(".email-detail-head .dropdown-item").on("click", function () {
        $(".dropdown-toggle").dropdown("hide");
    }),
    $(".collapse-header").on("click", function () {
        $(this).toggleClass("open");
    }),
    $(".close-icon, .cancel-btn, .app-content-overlay").on("click", function () {
        a.removeClass("show"), s.removeClass("show"), $("#compose-form").find("input").val(""), ($(".custom-file .custom-file-label")[0].innerHTML = "Attach File"), ($("#compose-form .ql-editor")[0].innerHTML = "");
    }),
    $(".compose-btn").on("click", function () {
        a.addClass("show"), s.addClass("show"), o.removeClass("show");
    }),
    $(".information .dropdown-menu a").on("click", function (e) {
        e.stopPropagation(), $(this).parent().removeClass("show");
    }),
    $(window).width() > 768 && s.hasClass("show") && s.removeClass("show"),
    $(window).on("resize", function () {
        $(window).width() > 768 &&
            (s.hasClass("show") && (o.removeClass("show"), s.removeClass("show"), a.removeClass("show")),
            $("#compose-form").find("input").val(""),
            ($(".custom-file .custom-file-label")[0].innerHTML = "Attach File"),
            ($("#compose-form .ql-editor")[0].innerHTML = ""));
    });

}));













function matchCustom(params, data) {
    // If there are no search terms, return all of the data
    if ($.trim(params.term) === '') {
      return data;
    }

    // Do not display the item if there is no 'text' property
    if (typeof data.text === 'undefined') {
      return null;
    }

    // `params.term` should be the term that is used for searching
    // `data.text` is the text that is displayed for the data object
    if (data.text.toLowerCase().indexOf((params.term).toLowerCase()) > -1) {
      var modifiedData = $.extend({}, data, true);
      modifiedData.text += ' (matched)';

      // You can return modified objects from here
      // This includes matching the `children` how you want in nested data sets
      return modifiedData;
    }

    // Return `null` if the term should not be displayed
    return null;
}