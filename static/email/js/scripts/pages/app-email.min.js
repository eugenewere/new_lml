
$((function() {
    "use strict";
    var e = $(".app-content"),
        s = $(".app-content-overlay"),
        o = $(".sidebar-left"),
        l = $(".email-app-details"),
        i = $(".email-application"),
        a = $(".compose-new-mail-sidebar"),
        n = $(".email-user-list"),
        t = $(".email-app-list"),
        r = $(".user-action .checkbox-con");
    if ($.app.menu.is_touch_device())
        $(".sidebar-menu-list").css("overflow", "scroll"),
            $(".email-user-list").css("overflow", "scroll"),
            $(".email-scroll-area").css("overflow", "scroll"),
            $(".compose-new-mail-sidebar").css("overflow", "scroll");
    else {
        if ($(".sidebar-menu-list").length > 0) new PerfectScrollbar(".sidebar-menu-list", {
            wheelPropagation: !1
        });
        if (n.length > 0) new PerfectScrollbar(".email-user-list", {
            wheelPropagation: !1
        });
        if ($(".email-scroll-area").length > 0) new PerfectScrollbar(".email-scroll-area", {
            wheelPropagation: !1
        });
        if (a.length > 0) new PerfectScrollbar(".compose-new-mail-sidebar", {
            wheelPropagation: !1
        })
    }

    i.find(".favorite i").on("click", function (e) {
        e.stopPropagation();
        var vr = $(this).attr('data-star-message');

        var data={
                    'v':vr,
                }
        if (vr){
            $.post("starredmessage/", data, function(response){
                if(response["test"] === "success"){
                    $('#starredcount').text(response.starred_count)
                    window.location.reload();
                }else {
                     swal.fire({
                        title: "Error!",
                        text: "Could Add To Favourites",
                        type: "error",
                        confirmButtonText: "Ok",
                    });
                }
            })
        }else{
            swal.fire({
                title: "Error!",
                text: "Not Found",
                type: "error",
                confirmButtonText: "Ok",
            });
        }
        var s = $(this);
        s.parent(".favorite").toggleClass("warning"),
            s.hasClass("bx-star") ? (s.addClass("bxs-star"), s.removeClass("bx-star")) : (s.addClass("bx-star"), s.removeClass("bxs-star"));
    }),










    // $(".ul1 .l1 input").each(function () {
    //     $(this).on("change", function () {
    //         $('#check_count').text(
    //            if($(this).is(":checked")){$('#check_count').text(r.find("input").prop("checked", this.checked).length);}
    //     else {$('#check_count').text(0);}
    //         );
    //         console.log($('.ul1 .l1 .checkbox-con').find("input").is(":checked").length)
    //     })
    //
    // });
    $(document).on("change", ".email-app-list .selectAll input", function () {
        $(this).is(":checked")
            ? r.find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : r.find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");


        // if($(this).is(":checked")){
        //     $('.email-app-list .extras-Options').fadeIn();
        // }
        // else {
        //     $('.email-app-list .extras-Options').fadeOut();
        // }
    }),

    $(document).on("change", ".email-app-list2 .selectAll2 input#checkboxsmall2", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con2").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con2").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list3 .selectAll3 input#checkboxsmall3", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con3").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con3").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
         $(this).is(":checked")? $('.email-app-list3 .extras-Options').fadeIn(): $('.email-app-list3 .extras-Options').fadeOut();
    }),
    $(document).on("change", ".email-app-list4 .selectAll4 input#checkboxsmall4", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con4").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con4").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list5 .selectAll5 input#checkboxsmall5", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con5").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con5").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list6 .selectAll6 input#checkboxsmall6", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con6").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con6").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list7 .selectAll7 input#checkboxsmall7", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con7").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con7").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list8 .selectAll8 input#checkboxsmall8", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con8").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con8").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(document).on("change", ".email-app-list9 .selectAll9 input#checkboxsmall9", function () {
        $(this).is(":checked")
            ? $(".user-action .checkbox-con9").find("input").prop("checked", this.checked).closest(".media").addClass("selected-row-bg")
            : $(".user-action .checkbox-con9").find("input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),


    t.find("#email-search").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".media").css("animation", "none"), "" != e)
            ? (n.find(".users-list-wrapper li").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list .users-list-wrapper li:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper li").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search2").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l2").css("animation", "none"), "" != e)
            ? ($(".email-user-list2").find(".users-list-wrapper .l2").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list2 .users-list-wrapper .l2:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l2").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search3").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l3").css("animation", "none"), "" != e)
            ? ($(".email-user-list3").find(".users-list-wrapper .l3").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list3 .users-list-wrapper .l3:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l3").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search4").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l4").css("animation", "none"), "" != e)
            ? ($(".email-user-list4").find(".users-list-wrapper .l4").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list4 .users-list-wrapper .l4:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l4").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search5").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l5").css("animation", "none"), "" != e)
            ? ($(".email-user-list5").find(".users-list-wrapper .l5").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list5 .users-list-wrapper .l5:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l5").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search7").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l7").css("animation", "none"), "" != e)
            ? ($(".email-user-list7").find(".users-list-wrapper .l7").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list7 .users-list-wrapper .l7:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l7").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search6").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l6").css("animation", "none"), "" != e)
            ? ($(".email-user-list6").find(".users-list-wrapper .l6").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list6 .users-list-wrapper .l6:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l6").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search6").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l6").css("animation", "none"), "" != e)
            ? ($(".email-user-list6").find(".users-list-wrapper .l6").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list6 .users-list-wrapper .l6:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l6").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search8").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l8").css("animation", "none"), "" != e)
            ? ($(".email-user-list8").find(".users-list-wrapper .l8").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list8 .users-list-wrapper .l8:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l8").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),
    $("#email-search9").on("keyup", function () {
        var e = $(this).val().toLowerCase();
        ($(".l9").css("animation", "none"), "" != e)
            ? ($(".email-user-list9").find(".users-list-wrapper .l9").filter(function () {
                  $(this).toggle($(this).text().toLowerCase().indexOf(e) > -1);
              }),
              0 == $(".email-user-list9 .users-list-wrapper .l9:visible").length ? n.find(".no-results").addClass("show") : n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"))
            : (n.find(".users-list-wrapper .l9").show(), n.find(".no-results").hasClass("show") && n.find(".no-results").removeClass("show"));
    }),

    // stoppropergation
    $('.email-user-list1 .l1 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list2 .l2 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list3 .l3 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list4 .l4 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list5 .l5 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list6 .l6 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list7 .l7 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list8 .l8 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });
    $('.email-user-list9 .l9 .pop-container').on("click", function (e) {
        e.stopPropagation();
    });

       // listclick
    t.find(".email-user-list1 .l1").each(function () {
        $(this).on("click", '.pop-container', function (e) {
            e.stopPropagation();
            e.preventDefault();
                    console.log('noooo2')

        });
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message1')
            $(".email-app-details1").each(function () {
                if($(this).attr('data-detail1') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list2 .l2").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message2')
            $(".email-app-details2").each(function () {
                if($(this).attr('data-detail2') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list3 .l3").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message3')
            $(".email-app-details3").each(function () {
                if($(this).attr('data-detail3') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list4 .l4").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message4')
            $(".email-app-details4").each(function () {
                if($(this).attr('data-detail4') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list5 .l5").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message5')
            $(".email-app-details5").each(function () {
                if($(this).attr('data-detail5') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list6 .l6").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message6')
            $(".email-app-details6").each(function () {
                if($(this).attr('data-detail6') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list7 .l7").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message7')
            $(".email-app-details7").each(function () {
                if($(this).attr('data-detail7') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list8 .l8").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message8')
            $(".email-app-details8").each(function () {
                if($(this).attr('data-detail8') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });
    t.find(".email-user-list9 .l9").each(function () {
        $(this).on("click", function () {
            var data_attr = $(this).attr('data-message9')
            $(".email-app-details9").each(function () {
                if($(this).attr('data-detail9') === data_attr){
                    $(this).toggleClass("show");
                }
            });
        })
    });








    $('.tablinks').each(function () {
        $(this).on("click", function () {
            $('.email-app-details').removeClass("show");
        })
    });

    $(".mail-reply").on("click", function () {
        c.focus();
    }),
    $(".menu-toggle").on("click", function (o) {
        e.find(".sidebar-left").removeClass("show"), s.removeClass("show"), a.removeClass("show");
    }),
    i.find(".sidebar-close-icon").on("click", function () {
        o.removeClass("show"), s.removeClass("show");
    }),
    $(".sidebar-toggle").on("click", function (e) {
        e.stopPropagation(), o.toggleClass("show"), s.addClass("show");
    }),
    s.on("click", function () {
        o.removeClass("show"), s.removeClass("show");
    }),
    i.find(".list-group-messages a,.list-group-labels a").on("click", function () {
        var e = $(this);
        i.find(".list-group-messages a,.list-group-labels a").hasClass("active") && (i.find(".list-group-messages a,.list-group-labels a").removeClass("active"), e.addClass("active"));
    }),
    $(".sidebar-close-icon").on("click", function () {
        $(".sidebar-content").removeClass("show"), s.removeClass("show");
    }),

    $(".go-back, #inbox-menu").on("click", function (e) {
        e.stopPropagation(), l.removeClass("show"), ($(".detail-view-editor .ql-editor")[0].innerHTML = "");
    }),
    r.on("click", function (e) {
        e.stopPropagation();
    }),
    r.find("input").on("change", function () {
        var e = $(this);
        e.is(":checked") ? e.closest(".media").addClass("selected-row-bg") : e.closest(".media").removeClass("selected-row-bg");
    }),


    i.find(".mail-unread").on("click", function () {
        r.find("input:checked").closest("li").removeClass("mail-read"),
            i.find(".user-action .checkbox-con input:checked , .selectAll input").prop("checked", "").closest(".media").removeClass("selected-row-bg");
    }),
    $(".email-detail-head .dropdown-item").on("click", function () {
        $(".dropdown-toggle").dropdown("hide");
    }),
    $(".collapse-header").on("click", function () {
        $(this).toggleClass("open");
    }),
    $(".close-icon, .cancel-btn, .app-content-overlay").on("click", function () {
        a.removeClass("show"), s.removeClass("show"), $("#compose-form").find("input").val(""), ($(".custom-file .custom-file-label")[0].innerHTML = "Attach File"), ($("#compose-form .ql-editor")[0].innerHTML = "");
    }),
    $(".compose-btn").on("click", function () {
        a.addClass("show"), s.addClass("show"), o.removeClass("show");
    }),
    $(".information .dropdown-menu a").on("click", function (e) {
        e.stopPropagation(), $(this).parent().removeClass("show");
    }),
    $(window).width() > 768 && s.hasClass("show") && s.removeClass("show"),
    $(window).on("resize", function () {
        $(window).width() > 768 &&
            (s.hasClass("show") && (o.removeClass("show"), s.removeClass("show"), a.removeClass("show")),
            $("#compose-form").find("input").val(""),
            ($(".custom-file .custom-file-label")[0].innerHTML = "Attach File"),
            ($("#compose-form .ql-editor")[0].innerHTML = ""));
    });
 $('[data-toggle="tooltip"]').tooltip()
}));

         //   $(".email-application").find(".mail-delete").on("click", function () {
         //    $(".user-action .checkbox-con").find("input:checked").closest("li").remove(),
         //        $(".email-application").find(".selectAll input").prop("checked", ""),
         //        0 == $(".email-user-list .users-list-wrapper li:visible").length
         //            ? $(".email-user-list").find(".no-results").addClass("show")
         //            : $(".email-user-list").find(".no-results").hasClass("show")
         //            && $(".email-user-list").find(".no-results").removeClass("show");
         // })

function matchCustom(params, data) {
    // If there are no search terms, return all of the data
    if ($.trim(params.term) === '') {
      return data;
    }

    // Do not display the item if there is no 'text' property
    if (typeof data.text === 'undefined') {
      return null;
    }

    // `params.term` should be the term that is used for searching
    // `data.text` is the text that is displayed for the data object
    if (data.text.toLowerCase().indexOf((params.term).toLowerCase()) > -1) {
      var modifiedData = $.extend({}, data, true);
      modifiedData.text += ' (matched)';

      // You can return modified objects from here
      // This includes matching the `children` how you want in nested data sets
      return modifiedData;
    }

    // Return `null` if the term should not be displayed
    return null;
}

$('#alldelete').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#senttrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con2").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con2").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con2").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})


$('#inboxtrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con3").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con3").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con3").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#inboxread').on("click", function () {
    $(".user-action .checkbox-con3").find("input:checked").closest("li").hasClass('mail-unread')
        ? $(".user-action .checkbox-con3").find("input:checked").closest("li").removeClass('mail-unread').addClass('mail-read')
        : $(".user-action .checkbox-con3").find("input:checked").closest("li").addClass('mail-read')
        var v = [];
        $(".user-action .checkbox-con3").find("input:checked").each(function () {
            v.push(Number($(this).val()));
        });
        console.log(v);
        var data={
            'v':v,
        }
        if (v.length !== 0){
            var orig = window.origin + "/ws/mark_as_read_or_unread/"
            $.post(orig, data, function(response){
                if(response["test"] === "success"){
                    if(response["msg_count"] <= 0){
                        $('title').text(response.title);
                        $('.inbox-unread-badge').fadeOut('slow');
                        for (vs of v){
                            $('[data-message-wrapper=message-'+vs+']').removeClass('mail-unread').addClass('mail-read')
                        }
                    }
                    else {
                         $('title').text(response.title);
                        $('.inbox-unread-badge').fadeIn('slow');
                         $('.inbox-unread-badge').text(response.msg_count);
                        for (vs of v){
                            $('[data-message-wrapper=message-'+vs+']').removeClass('mail-unread').addClass('mail-read');
                        }
                    }
                }else {
                     swal.fire({
                        title: "Error!",
                        text: "Could Mark As Read The Messages",
                        type: "error",
                        confirmButtonText: "Ok",
                    });
                }
            })
        }
        else{
            swal.fire({
                title: "Error!",
                text: "Fields Empty",
                type: "error",
                confirmButtonText: "Ok",
            });
        }
})
$('#inboxunread').on("click", function () {
    $(".user-action .checkbox-con3").find("input:checked").closest("li").hasClass('mail-read')
        ? $(".user-action .checkbox-con3").find("input:checked").closest("li").removeClass('mail-read').addClass('mail-unread')
        : $(".user-action .checkbox-con3").find("input:checked").closest("li").addClass('mail-unread')


    var v = [];
    $(".user-action .checkbox-con3").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    // console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("mark_as_read_or_unread/", data, function(response){
            if(response["test"] === "success"){
                if(response["msg_count"] > 0){
                        $('title').text(response.title);
                        $('.inbox-unread-badge').fadeIn('slow');
                        $('.inbox-unread-badge').text(response.msg_count);
                        // $('.inbox-unread-badge').fadeOut('slow');
                        for (vs of v){
                            $('[data-message-wrapper=message-'+vs+']').removeClass('mail-read').addClass('mail-unread')
                        }
                    }
                else {
                        $('title').text(response.title);
                        $('.inbox-unread-badge').fadeOut('slow');
                        $('.inbox-unread-badge').text(response.msg_count);
                        for (vs of v){
                            $('[data-message-wrapper=message-'+vs+']').removeClass('mail-read').addClass('mail-unread');
                        }
                    }
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Mark As Unread The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }
    else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }
})
$(".user-action .checkbox-con3").find("input").on('click', function () {
    $(".user-action .checkbox-con3").find("input:checked").length > 0
        ?  $('.email-app-list .extras-Options').fadeIn()
        :  $('.email-app-list .extras-Options').fadeOut();

});



$('#staredtrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con4").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con4").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con4").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#prodtrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con5").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con5").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con5").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#worktrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con6").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con6").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con6").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#mictrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con8").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con8").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con8").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#undetrash').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con9").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con9").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("trashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con9").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Trash The Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})

$('#trashperm').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con7").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con7").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("permtrashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con7").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Delete All Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})
$('#trashrestore').on("click", function () {
    var v = [];
    $(".user-action .checkbox-con7").find("input:checked").each(function () {
        v.push(Number($(this).val()));
    });
    console.log($(".user-action .checkbox-con7").find("input:checked").val());
    console.log(v);
    var data={
        'v':v,
    }
    if (v.length !== 0){
        $.post("restoretrashmessage/", data, function(response){
            if(response["test"] === "success"){
                $('#trshcount').text(response.trash_count)
                $(".user-action .checkbox-con7").find("input:checked").closest("li").remove()
                window.location.reload();
            }else {
                 swal.fire({
                    title: "Error!",
                    text: "Could Not Restore All Messages",
                    type: "error",
                    confirmButtonText: "Ok",
                });
            }
        })
    }else{
        swal.fire({
            title: "Error!",
            text: "Fields Empty",
            type: "error",
            confirmButtonText: "Ok",
        });
    }


})


$(document).ready(function() {
    $('.js-example-basic-multiple').select2({
        matcher: matchCustom,
    });
    $('.js-example-basic-single').select2({
          placeholder: 'Select an Label',
    });


});
